{"version":3,"sources":["assets/gray-card-cover.png","assets/HM.png","assets/Hong Kong.jpg","assets/London.jpg","assets/NYC.jpg","assets/Paris.jpg","assets/Rome.jpg","assets/SF.jpg","assets/Tokyo.jpg","assets/Vancouver.jpg","lib/graphql/queries/index.ts","components/Notification/Notificaitons.tsx","lib/graphql/mutations/index.ts","pages/UserPage/UserCard.tsx","lib/graphql/globalTypes.ts","components/Skeletons/PageSkeleton.tsx","components/Error/Error.tsx","components/ListingCard/ListingsCard.tsx","pages/UserPage/UserListings.tsx","pages/UserPage/UserPage.tsx","pages/ListingPage/ListingFeatures.tsx","pages/ListingPage/Checkout.tsx","pages/ListingPage/CreateBooking.tsx","pages/ListingPage/ListingPage.tsx","pages/ListingsPage/ListingsFilter.tsx","components/Skeletons/ListingsSkeleton.tsx","pages/ListingsPage/ListingsPage.tsx","serviceWorker.ts","components/Skeletons/HomeSkeleton.tsx","components/Stripe/Stripe.tsx","components/Login/LogIn.tsx","components/AppBar/AppBar.tsx","pages/UserPage/UserBookings.tsx","pages/TripsPage/TripsPage.tsx","pages/HomePage/FeaturedListings.tsx","pages/HomePage/SuggestedDestinations.tsx","pages/HomePage/HomePage.tsx","pages/HostPage/FormikStepper.tsx","pages/HostPage/HostPage.tsx","pages/EmptyPage/EmptyPage.tsx","index.tsx"],"names":["module","exports","AUTH_URL","gql","USER","LISTING","LISTINGS","SuccessNotification","goodMessage","message","success","ErrorNotification","error","LOG_IN","LOG_OUT","CONNECT_STRIPE","DISCONNECT_STRIPE","NEW_LISTING","BOOK_LISTING","require","config","ListingType","ListingFilter","CacheControlScope","stripeAuthUrl","process","Paragraph","Typography","Title","UserCard","user","idCheck","setViewer","viewer","handleUserRefetch","useMutation","onCompleted","data","hasWallet","disconnectStripe","onError","loading","firstName","name","split","className","size","src","pfp","level","color","email","CheckOutlined","income","type","onClick","href","target","rel","window","location","PageSkeleton","active","paragraph","rows","ErrorBanner","description","banner","Text","ListingCard","listing","id","title","image","price","property","to","bordered","cover","style","backgroundImage","strong","ellipsis","UserListings","userListings","listingsPage","setListingsPage","limit","total","result","grid","gutter","xs","sm","lg","xl","xxl","dataSource","locale","emptyText","renderItem","userListing","Item","current","onChange","page","hideOnSinglePage","showLessItems","defaultPageSize","Content","Layout","UserPage","ScrollToTop","useParams","useState","bookingsPage","useQuery","variables","refetch","a","console","listings","ListingFeatures","numOfGuests","host","numOfBeds","numOfBathrooms","numOfBedrooms","toString","expandable","Checkout","handleRefetch","clearDates","modalVisible","checkInDate","checkOutDate","setModalVisible","stripe","useStripe","elements","useElements","bookListing","daysBooked","diff","handleClick","cardElement","getElement","CardElement","createToken","token","input","source","checkIn","moment","format","checkOut","visible","centered","footer","onCancel","CreateBooking","bookingIndex","setCheckInDate","setCheckOutDate","bIndexJSON","JSON","parse","disabledDate","currentDate","isBefore","endOf","y","year","m","month","d","date","Boolean","IsBooked","checkInDisable","checkOutInputDisabled","buttonDisabled","fontWeight","value","undefined","disabled","showToday","dateValue","onOpenChange","selectedCheckOutDate","dateCursor","add","verifyCheckOutDate","ListingPage","addySplit","address","addy","i","length","lineHeight","city","EnvironmentOutlined","alt","bookingsIndex","Option","Select","ListingsFilter","filter","setFilter","PriceLh","PriceHl","ListingsSkeleton","CC","ListingsPage","curLocation","useRef","setPage","skip","fetchPolicy","useEffect","listingRegion","region","totalListings","md","mark","hostname","match","HomeSkeleton","Stripe","connectStripe","StripeRef","code","URL","searchParams","get","tip","LogIn","client","useApolloClient","logIn","sessionStorage","setItem","LogInMutation","logInLoading","logInError","logInRef","handleAuth","query","authUrl","viewerId","GoogleOutlined","Header","SubMenu","Menu","Search","Input","AppBar","history","useHistory","logOut","removeItem","push","backgroundColor","boxShadow","height","HM","textAlign","width","placeholder","enterButton","onSearch","trim","mode","selectable","key","avatar","UserOutlined","CarOutlined","LogoutOutlined","UserBookings","userBookings","setBookingsPage","pagination","position","userBooking","TripsPage","bookings","FeaturedListings","SuggestedDestinations","NYC","Paris","Tokyo","Vancouver","HK","London","SF","Rome","HomePage","FormikStepper","children","handleFinishFail","props","childrenArr","React","Children","toArray","step","SetStep","currentChild","layout","onFinishFailed","beforeImageUpload","file","fileIsValidImage","fileIsValidSize","validationSchema","Yup","required","min","positive","integer","max","state","HostPage","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","newListing","disableButton","onSubmit","values","initialValues","err","label","Apartment","ApartmentOutlined","House","HomeOutlined","Room","BankOutlined","extra","maxLength","TextArea","listType","showUploadList","customRequest","onSuccess","setTimeout","beforeUpload","info","status","originFileObj","img","callback","reader","FileReader","readAsDataURL","onload","getBase64Value","LoadingOutlined","UploadOutlined","htmlType","EmptyPage","Empty","PRESENTED_IMAGE_SIMPLE","ApolloClient","uri","request","operation","getItem","setContext","headers","cache","InMemoryCache","initViewer","__typename","didRequest","stripePromise","loadStripe","useLayoutEffect","scrollTo","App","exact","path","component","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.cadd6e46.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/HM.05ea591c.png\";","module.exports = __webpack_public_path__ + \"static/media/Hong Kong.cab3465e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/London.0045fb76.jpg\";","module.exports = __webpack_public_path__ + \"static/media/NYC.ab9e4be1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Paris.0503fb21.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Rome.9693aef5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/SF.ec63245b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Tokyo.0031371b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Vancouver.73e1093b.jpg\";","import { gql } from \"apollo-boost\";\r\n\r\nexport const AUTH_URL = gql`\r\n  query AuthUrl {\r\n    authUrl\r\n  }\r\n`;\r\n\r\nexport const USER = gql`\r\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\r\n    user(id: $id) {\r\n      id\r\n      name\r\n      pfp\r\n      email\r\n      hasWallet\r\n      income\r\n      bookings(limit: $limit, page: $bookingsPage) {\r\n        total\r\n        result {\r\n          id\r\n          listing {\r\n            id\r\n            type\r\n            title\r\n            image\r\n            address\r\n            price\r\n            numOfGuests\r\n            numOfBeds\r\n            numOfBedrooms\r\n            numOfBathrooms\r\n          }\r\n          checkIn\r\n          checkOut\r\n        }\r\n      }\r\n      listings(limit: $limit, page: $listingsPage) {\r\n        total\r\n        result {\r\n          id\r\n          type\r\n          title\r\n          image\r\n          address\r\n          price\r\n          numOfGuests\r\n          numOfBeds\r\n          numOfBedrooms\r\n          numOfBathrooms\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const LISTING = gql`\r\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\r\n    listing(id: $id) {\r\n      id\r\n      title\r\n      description\r\n      image\r\n      host {\r\n        id\r\n        name\r\n        pfp\r\n        hasWallet\r\n      }\r\n      type\r\n      address\r\n      city\r\n      bookings(limit: $limit, page: $bookingsPage) {\r\n        total\r\n        result {\r\n          id\r\n          tenant {\r\n            id\r\n            name\r\n            pfp\r\n          }\r\n          checkIn\r\n          checkOut\r\n        }\r\n      }\r\n      bookingsIndex\r\n      price\r\n      numOfGuests\r\n      numOfBeds\r\n      numOfBedrooms\r\n      numOfBathrooms\r\n    }\r\n  }\r\n`;\r\n\r\nexport const LISTINGS = gql`\r\n  query Listings($location: String, $filter: ListingFilter!, $limit: Int!, $page: Int!) {\r\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\r\n      region\r\n      total\r\n      result {\r\n        id\r\n        type\r\n        title\r\n        image\r\n        address\r\n        price\r\n        numOfGuests\r\n        numOfBeds\r\n        numOfBedrooms\r\n        numOfBathrooms\r\n      }\r\n    }\r\n  }\r\n`;","import { message } from \"antd\";\r\n\r\nexport const SuccessNotification = (goodMessage: string) => {\r\n  return message.success(goodMessage);\r\n};\r\n\r\nexport const ErrorNotification = (error: string) => {\r\n  return message.error(error);\r\n};\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const LOG_IN = gql`\r\n  mutation LogIn($input: LogInput) {\r\n    logIn(input: $input) {\r\n      id\r\n      token\r\n      avatar\r\n      hasWallet\r\n      didRequest\r\n    }\r\n  }\r\n`;\r\n\r\nexport const LOG_OUT = gql`\r\n  mutation LogOut {\r\n    logOut {\r\n      id\r\n      token\r\n      avatar\r\n      hasWallet\r\n      didRequest\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CONNECT_STRIPE = gql`\r\n  mutation ConnectStripe($input: ConnectStripeInput!) {\r\n    connectStripe(input: $input) {\r\n      hasWallet\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DISCONNECT_STRIPE = gql`\r\n  mutation DisconnectStripe {\r\n    disconnectStripe {\r\n      hasWallet\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NEW_LISTING = gql`\r\n  mutation NewListing($input: NewListingInput!) {\r\n    newListing(input: $input) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const BOOK_LISTING = gql`\r\n  mutation BookListing($input: NewBookingInput!) {\r\n    bookListing(input: $input) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n","import React, { Fragment } from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { Avatar, Button, Card, Divider, Typography, Tag } from \"antd\";\r\nimport { UserQuery } from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport {\r\n  ErrorNotification,\r\n  SuccessNotification,\r\n} from \"../../components/Notification/Notificaitons\";\r\nimport { CheckOutlined } from \"@ant-design/icons\";\r\nimport { DisconnectStripeMutation } from \"../../lib/graphql/mutations/__generated__/index.generated\";\r\nimport { DISCONNECT_STRIPE } from \"../../lib/graphql/mutations/index\";\r\nrequire(\"dotenv\").config();\r\n\r\ninterface Props {\r\n  user: UserQuery[\"user\"];\r\n  idCheck: boolean;\r\n  setViewer: (viewer: Viewer) => void;\r\n  handleUserRefetch: () => void;\r\n  viewer: Viewer;\r\n}\r\n\r\nconst stripeAuthUrl = `\r\nhttps://dashboard.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_STRIPE_CLIENT_ID}&scope=read_write\r\n`;\r\nconst { Paragraph, Title } = Typography;\r\n\r\nexport const UserCard = ({\r\n  user,\r\n  idCheck,\r\n  setViewer,\r\n  viewer,\r\n  handleUserRefetch,\r\n}: Props) => {\r\n  const [disconnectStripe, { loading }] = useMutation<DisconnectStripeMutation>(\r\n    DISCONNECT_STRIPE,\r\n    {\r\n      onCompleted: (data) => {\r\n        setViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet });\r\n        SuccessNotification(\"Successfully disconnected from Stripe\");\r\n        handleUserRefetch();\r\n      },\r\n      onError: () => {\r\n        ErrorNotification(\"Stripe disconnect error\");\r\n      },\r\n    }\r\n  );\r\n\r\n  const stripeRedirect = () => {\r\n    window.location.href = stripeAuthUrl;\r\n  };\r\n\r\n  const firstName = user.name.split(\" \")[0];\r\n  return (\r\n    <div className=\"user-profile\">\r\n      <Card className=\"user-card\">\r\n        <div className=\"user-pfp\">\r\n          <Avatar size={100} src={user.pfp} />\r\n        </div>\r\n        <Divider />\r\n        {idCheck ? (\r\n          <div>\r\n            <Title level={4}>Personal Info</Title>\r\n            {user.hasWallet ? (\r\n              <Paragraph>\r\n                <Tag color=\"blue\">Stripe Registered</Tag>\r\n              </Paragraph>\r\n            ) : null}\r\n            <span className=\"user-info-labels\">Legal Name: </span>\r\n            <br />\r\n            <span className=\"user-personal-info\">{user.name}</span>\r\n            <br />\r\n            <br />\r\n            <span className=\"user-info-labels\"> Email:</span>\r\n            <br />\r\n\r\n            <span className=\"user-personal-info\">{user.email}</span>\r\n            <br />\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Title level={3}>{firstName} Confirmed</Title>\r\n            <div>\r\n              <strong>\r\n                <CheckOutlined />{\" \"}\r\n                <span className=\"user-personal-info\"> Email Address </span>{\" \"}\r\n              </strong>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {idCheck ? (\r\n          <Fragment>\r\n            <Divider />\r\n            <div>\r\n              {user.hasWallet ? null : (\r\n                <Title level={4}>Connect Stripe Account!</Title>\r\n              )}\r\n              {user.hasWallet ? (\r\n                <Fragment>\r\n                  <Paragraph>\r\n                    <Title level={4}>\r\n                      Payout : ${user.income ? user.income : `$0`}{\" \"}\r\n                    </Title>\r\n                  </Paragraph>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"user-stripe-button\"\r\n                    loading={loading}\r\n                    onClick={() => disconnectStripe()}\r\n                  >\r\n                    Disconnect Stripe\r\n                  </Button>\r\n                  <Paragraph type=\"secondary\">\r\n                    You can no longer gain earnings if you disconnect your\r\n                    Stripe account.\r\n                  </Paragraph>\r\n                </Fragment>\r\n              ) : (\r\n                <Fragment>\r\n                  <Paragraph>\r\n                    Want to host on Home Mobile? Connect with your{\" \"}\r\n                    <a\r\n                      href=\"https://stripe.com/en-US/connect\"\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                    >\r\n                      Stripe\r\n                    </a>{\" \"}\r\n                    Account to receive earnings\r\n                  </Paragraph>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"user-stripe-button\"\r\n                    onClick={stripeRedirect}\r\n                  >\r\n                    Connect with Stripe\r\n                  </Button>\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </Fragment>\r\n        ) : null}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","export type Maybe<T> = T | null;\nexport type Exact<T extends { [key: string]: any }> = { [K in keyof T]: T[K] };\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string;\n  String: string;\n  Boolean: boolean;\n  Int: number;\n  Float: number;\n  /** The `Upload` scalar type represents a file upload. */\n  Upload: any;\n};\n\nexport type Booking = {\n  __typename?: 'Booking';\n  id: Scalars['ID'];\n  listing: Listing;\n  tenant: User;\n  checkIn: Scalars['String'];\n  checkOut: Scalars['String'];\n};\n\nexport enum ListingType {\n  House = 'HOUSE',\n  Apartment = 'APARTMENT',\n  Room = 'ROOM'\n}\n\nexport enum ListingFilter {\n  PriceHl = 'PRICE_HL',\n  PriceLh = 'PRICE_LH'\n}\n\nexport type Listing = {\n  __typename?: 'Listing';\n  id: Scalars['ID'];\n  title: Scalars['String'];\n  description: Scalars['String'];\n  image: Scalars['String'];\n  host: User;\n  type: ListingType;\n  address: Scalars['String'];\n  admin: Scalars['String'];\n  country: Scalars['String'];\n  city: Scalars['String'];\n  bookings?: Maybe<Bookings>;\n  bookingsIndex: Scalars['String'];\n  price: Scalars['Int'];\n  numOfGuests: Scalars['Int'];\n  numOfBeds: Scalars['Int'];\n  numOfBedrooms: Scalars['Int'];\n  numOfBathrooms: Scalars['Int'];\n};\n\n\nexport type ListingBookingsArgs = {\n  limit: Scalars['Int'];\n  page: Scalars['Int'];\n};\n\nexport type Bookings = {\n  __typename?: 'Bookings';\n  total: Scalars['Int'];\n  result: Array<Booking>;\n};\n\nexport type Listings = {\n  __typename?: 'Listings';\n  region?: Maybe<Scalars['String']>;\n  total: Scalars['Int'];\n  result: Array<Listing>;\n};\n\nexport type User = {\n  __typename?: 'User';\n  id: Scalars['ID'];\n  name: Scalars['String'];\n  pfp: Scalars['String'];\n  email: Scalars['String'];\n  hasWallet: Scalars['Boolean'];\n  income?: Maybe<Scalars['Int']>;\n  bookings?: Maybe<Bookings>;\n  listings: Listings;\n};\n\n\nexport type UserBookingsArgs = {\n  limit: Scalars['Int'];\n  page: Scalars['Int'];\n};\n\n\nexport type UserListingsArgs = {\n  limit: Scalars['Int'];\n  page: Scalars['Int'];\n};\n\nexport type LogInput = {\n  code: Scalars['String'];\n};\n\nexport type ConnectStripeInput = {\n  code: Scalars['String'];\n};\n\nexport type NewListingInput = {\n  title: Scalars['String'];\n  description: Scalars['String'];\n  image: Scalars['String'];\n  type: ListingType;\n  address: Scalars['String'];\n  price: Scalars['Int'];\n  numOfGuests: Scalars['Int'];\n  numOfBeds: Scalars['Int'];\n  numOfBedrooms: Scalars['Int'];\n  numOfBathrooms: Scalars['Int'];\n};\n\nexport type NewBookingInput = {\n  id: Scalars['ID'];\n  source: Scalars['String'];\n  checkIn: Scalars['String'];\n  checkOut: Scalars['String'];\n};\n\nexport type Viewer = {\n  __typename?: 'Viewer';\n  id?: Maybe<Scalars['ID']>;\n  token?: Maybe<Scalars['String']>;\n  avatar?: Maybe<Scalars['String']>;\n  hasWallet?: Maybe<Scalars['Boolean']>;\n  didRequest: Scalars['Boolean'];\n};\n\nexport type Query = {\n  __typename?: 'Query';\n  authUrl: Scalars['String'];\n  user: User;\n  listing: Listing;\n  listings: Listings;\n};\n\n\nexport type QueryUserArgs = {\n  id: Scalars['ID'];\n};\n\n\nexport type QueryListingArgs = {\n  id: Scalars['ID'];\n};\n\n\nexport type QueryListingsArgs = {\n  location?: Maybe<Scalars['String']>;\n  filter?: Maybe<ListingFilter>;\n  limit: Scalars['Int'];\n  page: Scalars['Int'];\n};\n\nexport type Mutation = {\n  __typename?: 'Mutation';\n  logIn: Viewer;\n  logOut: Viewer;\n  connectStripe: Viewer;\n  disconnectStripe: Viewer;\n  newListing: Listing;\n  bookListing: Booking;\n};\n\n\nexport type MutationLogInArgs = {\n  input?: Maybe<LogInput>;\n};\n\n\nexport type MutationConnectStripeArgs = {\n  input?: Maybe<ConnectStripeInput>;\n};\n\n\nexport type MutationNewListingArgs = {\n  input?: Maybe<NewListingInput>;\n};\n\n\nexport type MutationBookListingArgs = {\n  input?: Maybe<NewBookingInput>;\n};\n\nexport enum CacheControlScope {\n  Public = 'PUBLIC',\n  Private = 'PRIVATE'\n}\n\n\nexport type LogInMutationVariables = Exact<{\n  input?: Maybe<LogInput>;\n}>;\n\n\nexport type LogInMutation = (\n  { __typename?: 'Mutation' }\n  & { logIn: (\n    { __typename?: 'Viewer' }\n    & Pick<Viewer, 'id' | 'token' | 'avatar' | 'hasWallet' | 'didRequest'>\n  ) }\n);\n\nexport type LogOutMutationVariables = Exact<{ [key: string]: never; }>;\n\n\nexport type LogOutMutation = (\n  { __typename?: 'Mutation' }\n  & { logOut: (\n    { __typename?: 'Viewer' }\n    & Pick<Viewer, 'id' | 'token' | 'avatar' | 'hasWallet' | 'didRequest'>\n  ) }\n);\n\nexport type ConnectStripeMutationVariables = Exact<{\n  input: ConnectStripeInput;\n}>;\n\n\nexport type ConnectStripeMutation = (\n  { __typename?: 'Mutation' }\n  & { connectStripe: (\n    { __typename?: 'Viewer' }\n    & Pick<Viewer, 'hasWallet'>\n  ) }\n);\n\nexport type DisconnectStripeMutationVariables = Exact<{ [key: string]: never; }>;\n\n\nexport type DisconnectStripeMutation = (\n  { __typename?: 'Mutation' }\n  & { disconnectStripe: (\n    { __typename?: 'Viewer' }\n    & Pick<Viewer, 'hasWallet'>\n  ) }\n);\n\nexport type NewListingMutationVariables = Exact<{\n  input: NewListingInput;\n}>;\n\n\nexport type NewListingMutation = (\n  { __typename?: 'Mutation' }\n  & { newListing: (\n    { __typename?: 'Listing' }\n    & Pick<Listing, 'id'>\n  ) }\n);\n\nexport type BookListingMutationVariables = Exact<{\n  input: NewBookingInput;\n}>;\n\n\nexport type BookListingMutation = (\n  { __typename?: 'Mutation' }\n  & { bookListing: (\n    { __typename?: 'Booking' }\n    & Pick<Booking, 'id'>\n  ) }\n);\n\nexport type AuthUrlQueryVariables = Exact<{ [key: string]: never; }>;\n\n\nexport type AuthUrlQuery = (\n  { __typename?: 'Query' }\n  & Pick<Query, 'authUrl'>\n);\n\nexport type UserQueryVariables = Exact<{\n  id: Scalars['ID'];\n  bookingsPage: Scalars['Int'];\n  listingsPage: Scalars['Int'];\n  limit: Scalars['Int'];\n}>;\n\n\nexport type UserQuery = (\n  { __typename?: 'Query' }\n  & { user: (\n    { __typename?: 'User' }\n    & Pick<User, 'id' | 'name' | 'pfp' | 'email' | 'hasWallet' | 'income'>\n    & { bookings?: Maybe<(\n      { __typename?: 'Bookings' }\n      & Pick<Bookings, 'total'>\n      & { result: Array<(\n        { __typename?: 'Booking' }\n        & Pick<Booking, 'id' | 'checkIn' | 'checkOut'>\n        & { listing: (\n          { __typename?: 'Listing' }\n          & Pick<Listing, 'id' | 'type' | 'title' | 'image' | 'address' | 'price' | 'numOfGuests' | 'numOfBeds' | 'numOfBedrooms' | 'numOfBathrooms'>\n        ) }\n      )> }\n    )>, listings: (\n      { __typename?: 'Listings' }\n      & Pick<Listings, 'total'>\n      & { result: Array<(\n        { __typename?: 'Listing' }\n        & Pick<Listing, 'id' | 'type' | 'title' | 'image' | 'address' | 'price' | 'numOfGuests' | 'numOfBeds' | 'numOfBedrooms' | 'numOfBathrooms'>\n      )> }\n    ) }\n  ) }\n);\n\nexport type ListingQueryVariables = Exact<{\n  id: Scalars['ID'];\n  bookingsPage: Scalars['Int'];\n  limit: Scalars['Int'];\n}>;\n\n\nexport type ListingQuery = (\n  { __typename?: 'Query' }\n  & { listing: (\n    { __typename?: 'Listing' }\n    & Pick<Listing, 'id' | 'title' | 'description' | 'image' | 'type' | 'address' | 'city' | 'bookingsIndex' | 'price' | 'numOfGuests' | 'numOfBeds' | 'numOfBedrooms' | 'numOfBathrooms'>\n    & { host: (\n      { __typename?: 'User' }\n      & Pick<User, 'id' | 'name' | 'pfp' | 'hasWallet'>\n    ), bookings?: Maybe<(\n      { __typename?: 'Bookings' }\n      & Pick<Bookings, 'total'>\n      & { result: Array<(\n        { __typename?: 'Booking' }\n        & Pick<Booking, 'id' | 'checkIn' | 'checkOut'>\n        & { tenant: (\n          { __typename?: 'User' }\n          & Pick<User, 'id' | 'name' | 'pfp'>\n        ) }\n      )> }\n    )> }\n  ) }\n);\n\nexport type ListingsQueryVariables = Exact<{\n  location?: Maybe<Scalars['String']>;\n  filter: ListingFilter;\n  limit: Scalars['Int'];\n  page: Scalars['Int'];\n}>;\n\n\nexport type ListingsQuery = (\n  { __typename?: 'Query' }\n  & { listings: (\n    { __typename?: 'Listings' }\n    & Pick<Listings, 'region' | 'total'>\n    & { result: Array<(\n      { __typename?: 'Listing' }\n      & Pick<Listing, 'id' | 'type' | 'title' | 'image' | 'address' | 'price' | 'numOfGuests' | 'numOfBeds' | 'numOfBedrooms' | 'numOfBathrooms'>\n    )> }\n  ) }\n);\n","import React, { Fragment } from \"react\";\r\nimport { Skeleton } from \"antd\";\r\n\r\nexport const PageSkeleton = () => {\r\n  return (\r\n    <Fragment>\r\n      <Skeleton active paragraph={{ rows: 4 }} />\r\n      <Skeleton active paragraph={{ rows: 4 }} />\r\n      <Skeleton active paragraph={{ rows: 4 }} />\r\n      <Skeleton active paragraph={{ rows: 4 }} />\r\n    </Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Alert } from \"antd\";\r\n\r\ninterface Props {\r\n  message?: string;\r\n  description?: string;\r\n}\r\n\r\nexport const ErrorBanner = ({ message = \"We've encountered an error\", description = \"Please try again.\"}: Props) => {\r\n  return (\r\n    <Alert\r\n      banner\r\n      message={message}\r\n      description={description}\r\n      type=\"error\"\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Typography } from \"antd\";\r\n\r\ninterface Props {\r\n  listing: {\r\n    type: string;\r\n    id: string;\r\n    title: string;\r\n    image: string;\r\n    address: string;\r\n    price: number;\r\n  };\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nexport const ListingCard = ({ listing }: Props) => {\r\n  const { type, id, title, image, price } = listing;\r\n\r\n  let property = \"\";\r\n  if (type === \"HOUSE\") {\r\n    property = \"Entire Home\";\r\n  } else if (type === \"APARTMENT\") {\r\n    property = \"Entire Apartment\";\r\n  } else if (type === \"ROOM\") {\r\n    property = \"Entire Room\";\r\n  }\r\n\r\n  return (\r\n    <Link to={`/listing/${id}`}>\r\n      <Card\r\n        bordered={false}\r\n        cover={\r\n          <div\r\n            style={{ backgroundImage: `url(${image})` }}\r\n            className=\"listing-card-img\"\r\n          />\r\n        }\r\n      >\r\n        <div className=\"listing-card-details\">\r\n          <Text strong ellipsis className=\"listing-card-property-type\">\r\n            {property}\r\n          </Text>\r\n          <Text ellipsis className=\"listing-card-title\">\r\n            {title}\r\n          </Text>\r\n          <Title level={4} className=\"listing-card-price\">\r\n            ${price} / night\r\n          </Title>\r\n        </div>\r\n      </Card>\r\n    </Link>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { UserQuery } from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { ListingCard } from \"../../components/ListingCard/ListingsCard\";\r\nimport { List, Typography, Pagination } from \"antd\";\r\n\r\nconst { Title } = Typography;\r\n\r\ninterface Props {\r\n  user: UserQuery[\"user\"];\r\n  userListings: UserQuery[\"user\"][\"listings\"];\r\n  listingsPage: number;\r\n  limit: number;\r\n  setListingsPage: (page: number) => void;\r\n}\r\n\r\nexport const UserListings = ({\r\n  user,\r\n  userListings,\r\n  listingsPage,\r\n  limit,\r\n  setListingsPage,\r\n}: Props) => {\r\n  const { total, result } = userListings;\r\n  const { name } = user;\r\n  const nameArr = name.split(\" \");\r\n  const firstName = nameArr[0];\r\n  return (\r\n    <div className=\"user-listings\">\r\n      <Title level={2}>{firstName}'s Listings</Title>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 2,\r\n          xl: 2,\r\n          xxl: 2,\r\n        }}\r\n        dataSource={result}\r\n        locale={{ emptyText: \"You doesn't have any listings yet!\" }}\r\n        renderItem={(userListing) => (\r\n          <List.Item>\r\n            <ListingCard listing={userListing} />\r\n          </List.Item>\r\n        )}\r\n      />\r\n      <Pagination\r\n        current={listingsPage}\r\n        total={total}\r\n        onChange={(page: number) => setListingsPage(page)}\r\n        hideOnSinglePage\r\n        showLessItems\r\n        defaultPageSize={4}\r\n        className=\"listings-pagination\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Layout } from \"antd\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { USER } from \"../../lib/graphql/queries/index\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport {\r\n  UserQuery,\r\n  UserQueryVariables,\r\n} from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { UserCard } from \"./UserCard\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { PageSkeleton } from \"../../components/Skeletons/PageSkeleton\";\r\nimport { ErrorBanner } from \"../../components/Error/Error\";\r\nimport { UserListings } from \"./UserListings\";\r\n\r\ninterface MatchType {\r\n  id: string;\r\n}\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Content } = Layout;\r\n\r\nexport const UserPage = ({ viewer, setViewer }: Props) => {\r\n  ScrollToTop();\r\n  const { id } = useParams<MatchType>();\r\n  const [listingsPage, setListingsPage] = useState(1);\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const [bookingsPage, setBookingsPage] = useState(1);\r\n\r\n  const { data, loading, error, refetch } = useQuery<\r\n    UserQuery,\r\n    UserQueryVariables\r\n  >(USER, {\r\n    variables: {\r\n      id: id,\r\n      bookingsPage,\r\n      listingsPage,\r\n      limit: 4,\r\n    },\r\n  });\r\n\r\n  const handleUserRefetch = async () => {\r\n    await refetch();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"user\">\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    console.error(error);\r\n    return (\r\n      <Content className=\"user\">\r\n        <ErrorBanner description=\"Error, please refresh or try signing in again.\" />\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  const user = data ? data.user : null;\r\n  const userListings = user ? user.listings : null;\r\n  const idCheck = viewer.id === id;\r\n\r\n  return (\r\n    <Content className=\"user\">\r\n      <div className=\"user-page\">\r\n        {user ? (\r\n          <UserCard\r\n            user={user}\r\n            idCheck={idCheck}\r\n            viewer={viewer}\r\n            setViewer={setViewer}\r\n            handleUserRefetch={handleUserRefetch}\r\n          />\r\n        ) : null}\r\n\r\n        <div className=\"user-page-listings\">\r\n          {userListings && user ? (\r\n            <UserListings\r\n              user={user}\r\n              userListings={userListings}\r\n              listingsPage={listingsPage}\r\n              limit={4}\r\n              setListingsPage={setListingsPage}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </Content>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar, Divider, Tag, Typography } from \"antd\";\r\nimport { ListingQuery } from \"../../lib/graphql/queries/__generated__/index.generated\";\r\n\r\ninterface Props {\r\n  listing: ListingQuery[\"listing\"];\r\n}\r\n\r\nconst { Paragraph, Title } = Typography;\r\n\r\nexport const ListingFeatures = ({ listing }: Props) => {\r\n  const {\r\n    description,\r\n    type,\r\n    numOfGuests,\r\n    host,\r\n    numOfBeds,\r\n    numOfBathrooms,\r\n    numOfBedrooms,\r\n  } = listing;\r\n\r\n  const nameArr = host.name.split(\" \");\r\n  const firstName = nameArr[0];\r\n  let property = \"\";\r\n  if (type.toString() === \"HOUSE\") {\r\n    property = \"Entire House\";\r\n  } else if (type.toString() === \"APARTMENT\") {\r\n    property = \"Entire Apartment\";\r\n  } else if (type.toString() === \"ROOM\") {\r\n    property = \"Private Room\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"listing-details\">\r\n      <div className=\"listing-details-header-wrapper\">\r\n        <div className=\"listing-details-header\">\r\n          <div>\r\n            <Title level={3} className=\"listing-details-title\">\r\n              {property} hosted by {firstName}\r\n            </Title>\r\n          </div>\r\n\r\n          <div>\r\n            <Tag color=\"#ff4d4f\">{property}</Tag>\r\n            <Tag color=\"#ff4d4f\">{numOfGuests} Guests</Tag>\r\n            <Tag color=\"#ff4d4f\">{numOfBedrooms} Bedrooms</Tag>\r\n            <Tag color=\"#ff4d4f\">{numOfBeds} Beds</Tag>\r\n            <Tag color=\"#ff4d4f\">{numOfBathrooms} Bathrooms</Tag>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"listing-pfp-wrapper\">\r\n          <Link to={`/user/${host.id}`}>\r\n            <Avatar className=\"listing-pfp\" src={host.pfp} size={90} />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      <div>\r\n        <Title className=\"listing-about-space\" level={3}>\r\n          About this space\r\n        </Title>\r\n        <Paragraph\r\n          className=\"listing-description\"\r\n          ellipsis={{ rows: 3, expandable: true }}\r\n        >\r\n          {description}\r\n        </Paragraph>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { Button, Divider, Modal, Typography } from \"antd\";\r\nimport { useStripe, useElements, CardElement } from \"@stripe/react-stripe-js\";\r\nimport moment, { Moment } from \"moment\";\r\nimport {\r\n  BookListingMutation,\r\n  BookListingMutationVariables,\r\n} from \"../../lib/graphql/mutations/__generated__/index.generated\";\r\nimport { BOOK_LISTING } from \"../../lib/graphql/mutations/index\";\r\nimport {\r\n  SuccessNotification,\r\n  ErrorNotification,\r\n} from \"../../components/Notification/Notificaitons\";\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\ninterface Props {\r\n  id: string;\r\n  price: number;\r\n  modalVisible: boolean;\r\n  checkInDate: Moment;\r\n  checkOutDate: Moment;\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n  handleRefetch: () => void;\r\n  clearDates: () => void;\r\n}\r\n\r\nexport const Checkout = ({\r\n  id,\r\n  handleRefetch,\r\n  clearDates,\r\n  price,\r\n  modalVisible,\r\n  checkInDate,\r\n  checkOutDate,\r\n  setModalVisible,\r\n}: Props) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const [bookListing, { loading }] = useMutation<\r\n    BookListingMutation,\r\n    BookListingMutationVariables\r\n  >(BOOK_LISTING, {\r\n    onCompleted: () => {\r\n      clearDates();\r\n      SuccessNotification(\"Succesfully booked the listing!\");\r\n      handleRefetch();\r\n    },\r\n    onError: () => {\r\n      ErrorNotification(\"Booking error, please try again later.\");\r\n    },\r\n  });\r\n\r\n  const daysBooked = checkOutDate.diff(checkInDate, \"days\") + 1;\r\n  const total = price * daysBooked;\r\n\r\n  const handleClick = async () => {\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n    const cardElement = elements.getElement(CardElement);\r\n    if (!cardElement) {\r\n      return;\r\n    }\r\n    const { token, error } = await stripe.createToken(cardElement);\r\n    if (token) {\r\n      bookListing({\r\n        variables: {\r\n          input: {\r\n            id: id,\r\n            source: token.id,\r\n            checkIn: moment(checkInDate).format(\"YYYY-MM-DD\"),\r\n            checkOut: moment(checkOutDate).format(\"YYYY-MM-DD\"),\r\n          },\r\n        },\r\n      });\r\n    } else {\r\n      ErrorNotification(\r\n        error && error.message\r\n          ? error.message\r\n          : \"Reservation failed sorry, try again\"\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      centered\r\n      footer={null}\r\n      onCancel={() => setModalVisible(false)}\r\n    >\r\n      <div>\r\n        <div>\r\n          <Title level={2}>Confirm and pay</Title>\r\n          <Divider />\r\n          <Title level={3}>Your Trip</Title>\r\n\r\n          <Paragraph>\r\n            <Title level={4}> Dates</Title>\r\n            <Text className=\"checkout-summary-text\">\r\n              {moment(checkInDate).format(\"MMMM Do YYYY\")}\r\n            </Text>{\" \"}\r\n            -{\" \"}\r\n            <Text className=\"checkout-summary-text\">\r\n              {moment(checkOutDate).format(\"MMMM Do YYYY\")}\r\n            </Text>\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div>\r\n          <Title level={4}> Price Details</Title>\r\n          <Paragraph className=\"checkout-summary-text\">\r\n            ${price} X {daysBooked} nights\r\n          </Paragraph>\r\n          <Paragraph className=\"checkout-summary-text\">\r\n            <Title level={4}>\r\n              Total = <Text className=\"checkout-summary-text\">${total}</Text>{\" \"}\r\n            </Title>\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div className=\"checkout-stripe-wrapper\">\r\n          <Title level={4}> Pay With</Title>\r\n          <Text type=\"secondary\">\r\n            {\" \"}\r\n            Note: This is only a test, please do not input a real credit card\r\n            number. Use 4242 4242 4242 4242\r\n          </Text>\r\n          <CardElement className=\"checkout-stripe-element\" />\r\n\r\n          <Button\r\n            className=\"checkout-button\"\r\n            loading={loading}\r\n            onClick={handleClick}\r\n            size=\"large\"\r\n            type=\"primary\"\r\n          >\r\n            Confirm\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button, Card, DatePicker, Divider, Typography } from \"antd\";\r\nimport { ListingQuery } from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport moment, { Moment } from \"moment\";\r\nimport { ErrorNotification } from \"../../components/Notification/Notificaitons\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { ErrorBanner } from \"../../components/Error/Error\";\r\n\r\nconst { Paragraph, Title } = Typography;\r\n\r\ninterface BookingsIndexMonth {\r\n  [key: string]: boolean;\r\n}\r\n\r\ninterface BookingsIndexYear {\r\n  [key: string]: BookingsIndexMonth;\r\n}\r\n\r\ninterface BIndex {\r\n  [key: string]: BookingsIndexYear;\r\n}\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  host: ListingQuery[\"listing\"][\"host\"];\r\n  bookingIndex: ListingQuery[\"listing\"][\"bookingsIndex\"];\r\n  checkInDate: Moment | null;\r\n  checkOutDate: Moment | null;\r\n  setCheckInDate: (checkInDate: Moment | null) => void;\r\n  setCheckOutDate: (checkOutDate: Moment | null) => void;\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n  price: number;\r\n}\r\n\r\nexport const CreateBooking = ({\r\n  setModalVisible,\r\n  host,\r\n  bookingIndex,\r\n  price,\r\n  checkInDate,\r\n  checkOutDate,\r\n  setCheckInDate,\r\n  setCheckOutDate,\r\n  viewer,\r\n}: Props) => {\r\n  const bIndexJSON: BIndex = JSON.parse(bookingIndex);\r\n\r\n  const IsBooked = (currentDate: Moment) => {\r\n    const y = moment(currentDate).year();\r\n    const m = moment(currentDate).month();\r\n    const d = moment(currentDate).date();\r\n\r\n    if (bIndexJSON[y] && bIndexJSON[y][m]) {\r\n      return Boolean(bIndexJSON[y][m][d]);\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const disabledDate = (currentDate?: Moment) => {\r\n    if (currentDate) {\r\n      const dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf(\"day\"));\r\n\r\n      return dateIsBeforeEndOfDay || IsBooked(currentDate);\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const verifyCheckOutDate = (selectedCheckOutDate: Moment | null) => {\r\n    if (checkInDate && selectedCheckOutDate) {\r\n      if (moment(selectedCheckOutDate).isBefore(checkInDate, \"days\")) {\r\n        return ErrorNotification(`This date is before your check in date.`);\r\n      }\r\n      let dateCursor = checkInDate;\r\n\r\n      while (moment(dateCursor).isBefore(selectedCheckOutDate, \"days\")) {\r\n        dateCursor = moment(dateCursor).add(1, \"days\");\r\n\r\n        const y = moment(dateCursor).year();\r\n        const m = moment(dateCursor).month();\r\n        const d = moment(dateCursor).date();\r\n\r\n        if (bIndexJSON[y] && bIndexJSON[y][m] && bIndexJSON[y][m][d]) {\r\n          return ErrorNotification(\"This date has already been booked.\");\r\n        }\r\n      }\r\n    }\r\n    setCheckOutDate(selectedCheckOutDate);\r\n  };\r\n\r\n  let message = \"\";\r\n\r\n  const idCheck = viewer.id === host.id;\r\n\r\n  const checkInDisable = idCheck || !viewer.id;\r\n  const checkOutInputDisabled = checkInDisable || !checkInDate;\r\n  const buttonDisabled = !checkInDate || !checkOutDate;\r\n\r\n  if (!viewer.id) {\r\n    message = \"You must be signed in to make a reservation.\";\r\n  } else if (idCheck) {\r\n    message = \"You can't book your own listing\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"listing-booking\">\r\n      <Card className=\"create-booking-card\">\r\n        {!viewer.id || idCheck ? (\r\n          <ErrorBanner message={message} description={\"\"} />\r\n        ) : null}\r\n        <div>\r\n          <Title level={2} className=\"create-booking-price\">\r\n            ${price} <span style={{ fontWeight: 300 }}> / night</span>\r\n          </Title>\r\n          <Divider />\r\n          <div className=\"create-booking-dates\">\r\n            <Paragraph className=\"checkin-checkout\">Check In</Paragraph>\r\n            <DatePicker\r\n              value={checkInDate ? checkInDate : undefined}\r\n              format={\"YYYY/MM/DD\"}\r\n              disabled={checkInDisable}\r\n              showToday={false}\r\n              disabledDate={disabledDate}\r\n              onChange={(dateValue) => setCheckInDate(dateValue)}\r\n              onOpenChange={() => setCheckOutDate(null)}\r\n            />\r\n          </div>\r\n          <div className=\"create-booking-dates\">\r\n            <Paragraph className=\"checkin-checkout\">Check Out</Paragraph>\r\n            <DatePicker\r\n              value={checkOutDate ? checkOutDate : undefined}\r\n              format={\"YYYY/MM/DD\"}\r\n              showToday={false}\r\n              disabled={checkOutInputDisabled}\r\n              disabledDate={disabledDate}\r\n              onChange={(dateValue) => verifyCheckOutDate(dateValue)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <Button\r\n          className=\"create-booking-button\"\r\n          disabled={buttonDisabled}\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={() => setModalVisible(true)}\r\n        >\r\n          Reserve\r\n        </Button>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Layout, Typography, Tag } from \"antd\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { LISTING } from \"../../lib/graphql/queries/index\";\r\nimport { PageSkeleton } from \"../../components/Skeletons/PageSkeleton\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport { ErrorBanner } from \"../../components/Error/Error\";\r\nimport {\r\n  ListingQuery,\r\n  ListingQueryVariables,\r\n} from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { ListingFeatures } from \"./ListingFeatures\";\r\nimport { Checkout } from \"./Checkout\";\r\nimport { CreateBooking } from \"./CreateBooking\";\r\nimport { Moment } from \"moment\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { EnvironmentOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Content } = Layout;\r\nconst { Title } = Typography;\r\ninterface MatchType {\r\n  id: string;\r\n}\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\n\r\nexport const ListingPage = ({ viewer }: Props) => {\r\n  ScrollToTop();\r\n  const { id } = useParams<MatchType>();\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const [bookingsPage, setBookingsPage] = useState(1);\r\n  const [checkInDate, setCheckInDate] = useState<Moment | null>(null);\r\n  const [checkOutDate, setCheckOutDate] = useState<Moment | null>(null);\r\n\r\n  const { data, loading, error, refetch } = useQuery<\r\n    ListingQuery,\r\n    ListingQueryVariables\r\n  >(LISTING, {\r\n    variables: {\r\n      id: id,\r\n      bookingsPage,\r\n      limit: 3,\r\n    },\r\n  });\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"listings\">\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Content className=\"listings\">\r\n        <ErrorBanner description=\"Listing error, please try again\" />\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  const handleRefetch = async () => {\r\n    await refetch();\r\n  };\r\n\r\n  const clearDates = () => {\r\n    setModalVisible(false);\r\n    setCheckInDate(null);\r\n    setCheckOutDate(null);\r\n  };\r\n  const listing = data ? data.listing : null;\r\n\r\n  const addySplit = listing ? listing.address.split(\",\") : \"\";\r\n\r\n  let addy = \"\";\r\n  for (let i = 1; i < addySplit.length; i++) {\r\n    if (i === addySplit.length - 1) {\r\n      addy += addySplit[i];\r\n    } else {\r\n      addy += addySplit[i] + \", \";\r\n    }\r\n  }\r\n  return (\r\n    <Layout className=\"listing\">\r\n      <Content>\r\n        {listing ? (\r\n          <div className=\"listing-header-wrapper\">\r\n            <div className=\"listing-header\">\r\n              <div className=\"listing-header-title\">\r\n                <div>\r\n                  <Title\r\n                    style={{ fontWeight: \"bold\", lineHeight: \"30px\" }}\r\n                    level={2}\r\n                  >\r\n                    {listing.title}\r\n                  </Title>\r\n                </div>\r\n\r\n                <div>\r\n                  <Tag color=\"#ff4d4f\">\r\n                    <Link to={`/listings/${listing.city}`}>\r\n                      <EnvironmentOutlined />{\" \"}\r\n                      <span>\r\n                        {\" \"}\r\n                        <u> {addy}</u>\r\n                      </span>\r\n                    </Link>\r\n                  </Tag>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n\r\n        <div className=\"listing-details-image-wrapper\">\r\n          <img\r\n            className=\"listing-details-image\"\r\n            src={listing?.image}\r\n            alt=\"listing\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"listing-details-wrapper\">\r\n          <div className=\"listing-column-left\">\r\n            {listing ? <ListingFeatures listing={listing} /> : null}\r\n          </div>\r\n\r\n          <div className=\"listing-column-right\">\r\n            {listing ? (\r\n              <CreateBooking\r\n                bookingIndex={listing.bookingsIndex}\r\n                host={listing.host}\r\n                viewer={viewer}\r\n                price={listing.price}\r\n                checkInDate={checkInDate}\r\n                checkOutDate={checkOutDate}\r\n                setCheckInDate={setCheckInDate}\r\n                setCheckOutDate={setCheckOutDate}\r\n                setModalVisible={setModalVisible}\r\n              />\r\n            ) : null}\r\n\r\n            {listing && checkInDate && checkOutDate ? (\r\n              <Checkout\r\n                id={listing.id}\r\n                clearDates={clearDates}\r\n                price={listing.price}\r\n                handleRefetch={handleRefetch}\r\n                modalVisible={modalVisible}\r\n                checkInDate={checkInDate}\r\n                checkOutDate={checkOutDate}\r\n                setModalVisible={setModalVisible}\r\n              />\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\nimport { ListingFilter } from \"../../lib/graphql/globalTypes\";\r\n\r\nconst { Option } = Select;\r\n\r\ninterface Props {\r\n  filter: ListingFilter;\r\n  setFilter: (filter: ListingFilter) => void;\r\n}\r\n\r\nexport const ListingsFilter = ({ filter, setFilter }: Props) => {\r\n  return (\r\n    <div className=\"listings-filters\">\r\n      <Select\r\n        value={filter}\r\n        onChange={(filter: ListingFilter) => setFilter(filter)}\r\n      >\r\n        <Option value={ListingFilter.PriceLh}>Price: Low to High</Option>\r\n        <Option value={ListingFilter.PriceHl}>Price: High to Low</Option>\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Card, List, Skeleton } from \"antd\";\r\n\r\nimport CC from \"../../assets/gray-card-cover.png\";\r\n\r\nexport const ListingsSkeleton = () => {\r\n  const fillerData = [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}];\r\n\r\n  return (\r\n    <div>\r\n      <Skeleton paragraph={{ rows: 1 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 5,\r\n          xl: 5,\r\n          xxl: 5,\r\n        }}\r\n        dataSource={fillerData}\r\n        renderItem={() => (\r\n          <List.Item>\r\n            <Card\r\n              cover={\r\n                <div\r\n                  className=\"listings-skeleton-img\"\r\n                  style={{ backgroundImage: `url(${CC})` }}\r\n                ></div>\r\n              }\r\n              loading\r\n            />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Layout, List, Typography, Pagination } from \"antd\";\r\nimport { ListingCard } from \"../../components/ListingCard/ListingsCard\";\r\nimport {\r\n  ListingsQuery,\r\n  ListingsQueryVariables,\r\n} from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { ErrorBanner } from \"../../components/Error/Error\";\r\nimport { LISTINGS } from \"../../lib/graphql/queries/index\";\r\nimport { ListingFilter } from \"../../lib/graphql/globalTypes\";\r\nimport { ListingsFilter } from \"./ListingsFilter\";\r\nimport { ListingsSkeleton } from \"../../components/Skeletons/ListingsSkeleton\";\r\nconst { Content } = Layout;\r\nconst { Title, Text, Paragraph } = Typography;\r\n\r\ninterface MatchType {\r\n  location: string;\r\n}\r\n\r\nexport const ListingsPage = () => {\r\n  ScrollToTop();\r\n  const { location } = useParams<MatchType>();\r\n  const curLocation = useRef(location);\r\n  const [filter, setFilter] = useState(ListingFilter.PriceLh);\r\n  const [page, setPage] = useState(1);\r\n  const { loading, data, error } = useQuery<\r\n    ListingsQuery,\r\n    ListingsQueryVariables\r\n  >(LISTINGS, {\r\n    skip: curLocation.current !== location && page !== 1,\r\n    variables: {\r\n      location: location,\r\n      filter: filter,\r\n      limit: 10,\r\n      page: page,\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n    curLocation.current = location;\r\n  }, [location]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"listings\">\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Content className=\"listings\">\r\n        <ErrorBanner description={`Something went wrong. Try again`} />\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  const listings = data ? data.listings : null;\r\n\r\n  const listingRegion = listings ? listings.region : null;\r\n  const totalListings = listings ? listings.total : undefined;\r\n\r\n  return (\r\n    <Content className=\"listings\">\r\n      {listingRegion ? (\r\n        <div>\r\n          <span> {totalListings} stays </span>\r\n          <Title level={3}>Stays in {listingRegion}</Title>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <span> {totalListings} stays </span>\r\n          <Title level={3}> Stays on Home Mobile</Title>\r\n        </div>\r\n      )}\r\n\r\n      {listings && listings.result.length !== 0 ? (\r\n        <div>\r\n          <ListingsFilter filter={filter} setFilter={setFilter} />\r\n          <List\r\n            grid={{\r\n              gutter: 8,\r\n              xs: 1,\r\n              sm: 2,\r\n              md: 2,\r\n              lg: 5,\r\n              xl: 5,\r\n              xxl: 5,\r\n            }}\r\n            dataSource={listings.result}\r\n            renderItem={(listing) => (\r\n              <List.Item>\r\n                <ListingCard listing={listing} />\r\n              </List.Item>\r\n            )}\r\n          />\r\n\r\n          <Pagination\r\n            className=\"listings-pagination\"\r\n            current={page}\r\n            total={totalListings}\r\n            onChange={(page: number) => setPage(page)}\r\n            hideOnSinglePage\r\n            showLessItems\r\n            defaultPageSize={10}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <Paragraph>\r\n            There are no listings for <Text mark>\"{listingRegion} \"</Text>\r\n          </Paragraph>\r\n        </div>\r\n      )}\r\n    </Content>\r\n  );\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport { Card, List, Skeleton } from \"antd\";\r\n\r\nimport CC from \"../../assets/gray-card-cover.png\";\r\n\r\nexport const HomeSkeleton = () => {\r\n  const fillerData = [{}, {}, {}, {}];\r\n\r\n  return (\r\n    <div>\r\n      <Skeleton paragraph={{ rows: 12 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n          xl: 4,\r\n          xxl: 4,\r\n        }}\r\n        dataSource={fillerData}\r\n        renderItem={() => (\r\n          <List.Item>\r\n            <Card\r\n              cover={\r\n                <div\r\n                  className=\"listings-skeleton-img\"\r\n                  style={{ backgroundImage: `url(${CC})` }}\r\n                ></div>\r\n              }\r\n              loading\r\n            />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { Layout, Spin } from \"antd\";\r\nimport { CONNECT_STRIPE } from \"../../lib/graphql/mutations/index\";\r\nimport {\r\n  ConnectStripeMutation,\r\n  ConnectStripeMutationVariables,\r\n} from \"../../lib/graphql/mutations/__generated__/index.generated\";\r\nimport {SuccessNotification} from \"../Notification/Notificaitons\"\r\n\r\nimport { Viewer } from \"../../lib/types\";\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Content } = Layout;\r\n\r\nexport const Stripe = ({ viewer, setViewer }: Props) => {\r\n  const [connectStripe, { data, loading, error }] = useMutation<\r\n    ConnectStripeMutation,\r\n    ConnectStripeMutationVariables\r\n  >(CONNECT_STRIPE, {\r\n      onCompleted: data => {\r\n          setViewer({...viewer, hasWallet: data.connectStripe.hasWallet});\r\n          SuccessNotification(\"Successfull stripe connection!\");\r\n      }\r\n  });\r\n\r\n  const StripeRef = useRef(connectStripe);\r\n\r\n\r\n  useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get(\"code\");\r\n    if (code) {\r\n      StripeRef.current({\r\n        variables: {\r\n          input: { code },\r\n        },\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  if (data && data.connectStripe) {\r\n    return <Redirect to={`/user/${viewer.id}`} />;\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"stripe\">\r\n        <Spin size=\"large\" tip=\"Logging into your Stripe Account\" />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to={`/user/${viewer.id}?stripe_error=true`} />;\r\n  }\r\n  return(null);\r\n};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useApolloClient, useMutation } from \"@apollo/react-hooks\";\r\nimport { Layout, Card, Typography, Spin } from \"antd\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport { AUTH_URL } from \"../../lib/graphql/queries/index\";\r\nimport { AuthUrlQuery } from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { LOG_IN } from \"../../lib/graphql/mutations/index\";\r\nimport { ErrorBanner } from \"../../components/Error/Error\";\r\nimport { GoogleOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  SuccessNotification,\r\n  ErrorNotification,\r\n} from \"../Notification/Notificaitons\";\r\nimport {\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  LogInMutation,\r\n  LogInMutationVariables,\r\n} from \"../../lib/graphql/mutations/__generated__/index.generated\";\r\n\r\nconst { Content } = Layout;\r\nconst { Text, Title } = Typography;\r\n\r\ninterface Props {\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nexport const LogIn = ({ setViewer }: Props) => {\r\n  ScrollToTop();\r\n  const client = useApolloClient();\r\n  const [\r\n    logIn,\r\n    { data: LogInMutation, loading: logInLoading, error: logInError },\r\n  ] = useMutation<LogInMutation, LogInMutationVariables>(LOG_IN, {\r\n    onCompleted: (data) => {\r\n      if (data && data.logIn && data.logIn.token) {\r\n        setViewer(data.logIn);\r\n        sessionStorage.setItem(\"token\", data.logIn.token);\r\n        SuccessNotification(\"You successfully logged in!\");\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      ErrorNotification(\"Log out failed\");\r\n      console.error(error.message);\r\n    },\r\n  });\r\n  const logInRef = useRef(logIn);\r\n\r\n  useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get(\"code\");\r\n    if (code) {\r\n      logInRef.current({\r\n        variables: {\r\n          input: { code },\r\n        },\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleAuth = async () => {\r\n    try {\r\n      const { data } = await client.query<AuthUrlQuery>({\r\n        query: AUTH_URL,\r\n      });\r\n      window.location.href = data.authUrl;\r\n    } catch {\r\n      ErrorNotification(\"Login failed, try again.\");\r\n    }\r\n  };\r\n\r\n  if (logInLoading) {\r\n    return (\r\n      <Content className=\"login-wrapper\">\r\n        <Spin size=\"large\" tip=\"Logging in...\" />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (LogInMutation && LogInMutation.logIn) {\r\n    const { id: viewerId } = LogInMutation.logIn;\r\n    return <Redirect to={`/user/${viewerId}`} />;\r\n  }\r\n\r\n  return (\r\n    <Layout className=\"login-wrapper\">\r\n      {logInError ? (\r\n        <ErrorBanner description=\"Login failed, try again.\" />\r\n      ) : null}\r\n      <Card className=\"login-card\">\r\n        <div>\r\n          <Title level={4}>Home Mobile </Title>\r\n        </div>\r\n        <div className=\"login-title\">\r\n          <Title level={1}>Log In</Title>\r\n        </div>\r\n\r\n        <button className=\"login-card-button\" onClick={handleAuth}>\r\n          <div className=\"login-google\">\r\n            <div className=\"login-google-icon\">\r\n              <GoogleOutlined />\r\n            </div>\r\n\r\n            <div className=\"login-google-text \">Sign in with Google</div>\r\n          </div>\r\n        </button>\r\n\r\n        <Text>\r\n          You will be redirected to Google's login page. Home Mobile currently\r\n          only works with Google accounts\r\n        </Text>\r\n      </Card>\r\n    </Layout>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { Avatar, Layout, Menu, Input } from \"antd\";\r\nimport { LOG_OUT } from \"../../lib/graphql/mutations/index\";\r\nimport { LogOutMutation } from \"../../lib/graphql/mutations/__generated__/index.generated\";\r\nimport { UserOutlined, LogoutOutlined, CarOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  SuccessNotification,\r\n  ErrorNotification,\r\n} from \"../Notification/Notificaitons\";\r\nimport HM from \"../../assets/HM.png\";\r\n\r\nconst { Header } = Layout;\r\nconst { SubMenu, Item } = Menu;\r\nconst { Search } = Input;\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nexport const AppBar = ({ viewer, setViewer }: Props) => {\r\n  let history = useHistory();\r\n\r\n  const onSearch = (value: string) => {\r\n    if (value) {\r\n      history.push(`/listings/${value.trim()}`);\r\n    } else {\r\n      ErrorNotification(\"Invalid search\");\r\n    }\r\n  };\r\n\r\n  const [logOut] = useMutation<LogOutMutation>(LOG_OUT, {\r\n    onCompleted: (data) => {\r\n      if (data && data.logOut) {\r\n        setViewer(data.logOut);\r\n        sessionStorage.removeItem(\"token\");\r\n        SuccessNotification(\"Successful logout!\");\r\n        history.push(\"/\");\r\n      }\r\n    },\r\n    onError: () => {\r\n      ErrorNotification(\"Log out failed\");\r\n    },\r\n  });\r\n  const handleLogOut = () => {\r\n    logOut();\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <Header\r\n        style={{\r\n          backgroundColor: \"#fff\",\r\n          boxShadow: \"0 2px 8px #f0f1f2\",\r\n          height: \"70px\",\r\n        }}\r\n      >\r\n        <div className=\"app-bar\">\r\n          <div className=\"app-bar-brand\">\r\n            <Link to=\"/\">\r\n              <img alt=\"App logo\" src={HM} />{\" \"}\r\n              <span className=\"app-bar-brandName\"> Home Mobile</span>\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"app-bar-searchbar\">\r\n            <Search\r\n              style={{ textAlign: \"center\", width: 550 }}\r\n              placeholder=\"Add a location\"\r\n              size=\"large\"\r\n              enterButton\r\n              onSearch={onSearch}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"app-bar-end\">\r\n            <Menu\r\n              mode=\"horizontal\"\r\n              selectable={false}\r\n              style={{ color: \"black\" }}\r\n            >\r\n              <Item key=\"/host\">\r\n                <Link to=\"/host\">\r\n                  {\" \"}\r\n                  <span className=\"app-bar-text\"> Become A Host</span>\r\n                </Link>\r\n              </Item>\r\n\r\n              {viewer?.id && viewer?.avatar ? (\r\n                <SubMenu title={<Avatar src={viewer.avatar} />}>\r\n                  <Item key=\"/user\">\r\n                    <Link to={`/user/${viewer.id}`}>\r\n                      <UserOutlined />\r\n                      <span className=\"app-bar-text\"> Account </span>\r\n                    </Link>\r\n                  </Item>\r\n\r\n                  <Item key=\"/trips\">\r\n                    <Link to={`/trips/${viewer.id}`}>\r\n                      <CarOutlined />\r\n                      <span className=\"app-bar-text\"> Trips </span>\r\n                    </Link>\r\n                  </Item>\r\n\r\n                  <Item key=\"/logout\">\r\n                    <div onClick={handleLogOut}>\r\n                      <LogoutOutlined />\r\n                      <span className=\"app-bar-text\"> Sign Out </span>\r\n                    </div>\r\n                  </Item>\r\n                </SubMenu>\r\n              ) : (\r\n                <Item>\r\n                  <Link to=\"/login\">\r\n                    <span className=\"app-bar-text\"> Sign In </span>\r\n                  </Link>\r\n                </Item>\r\n              )}\r\n            </Menu>\r\n          </div>\r\n        </div>\r\n      </Header>\r\n    </Layout>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { UserQuery } from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { ListingCard } from \"../../components/ListingCard/ListingsCard\";\r\nimport { List, Typography } from \"antd\";\r\n\r\nconst { Title, Text } = Typography;\r\n\r\ninterface Props {\r\n  userBookings: UserQuery[\"user\"][\"bookings\"];\r\n  bookingsPage: number;\r\n  limit: number;\r\n  setBookingsPage: (page: number) => void;\r\n}\r\n\r\nexport const UserBookings = ({\r\n  userBookings,\r\n  bookingsPage,\r\n  limit,\r\n  setBookingsPage,\r\n}: Props) => {\r\n  const total = userBookings ? userBookings.total : null;\r\n  const result = userBookings ? userBookings.result : null;\r\n\r\n  return (\r\n    <div className=\"user-bookings\">\r\n      <Title level={1}>Your Trips</Title>\r\n\r\n      {\r\n        <List\r\n          grid={{\r\n            gutter: 8,\r\n            xs: 1,\r\n            sm: 2,\r\n            lg: 3,\r\n            xl: 3,\r\n            xxl: 3,\r\n          }}\r\n          dataSource={result ? result : undefined}\r\n          locale={{ emptyText: \"You don't have any trips planned\" }}\r\n          pagination={{\r\n            position: \"bottom\",\r\n            current: bookingsPage,\r\n            total: total ? total : undefined,\r\n            defaultPageSize: limit,\r\n            hideOnSinglePage: true,\r\n            showLessItems: true,\r\n            onChange: (page: number) => setBookingsPage(page),\r\n          }}\r\n          renderItem={(userBooking) => (\r\n            <List.Item>\r\n              <div>\r\n                <Title level={3}> Reservation Date</Title>\r\n                <div className=\"user-bookings-dates\">\r\n                  <Text strong>\r\n                    {userBooking.checkIn} - {userBooking.checkOut}\r\n                  </Text>\r\n                </div>\r\n              </div>\r\n              <ListingCard listing={userBooking.listing} />\r\n            </List.Item>\r\n          )}\r\n        />\r\n      }\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Layout, Typography } from \"antd\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport {\r\n  UserQuery,\r\n  UserQueryVariables,\r\n} from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { USER } from \"../../lib/graphql/queries/index\";\r\nimport { UserBookings } from \"../UserPage/UserBookings\";\r\nimport { PageSkeleton } from \"../../components/Skeletons/PageSkeleton\";\r\nimport { ErrorBanner } from \"../../components/Error/Error\";\r\ninterface MatchType {\r\n  id: string;\r\n}\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\nconst { Content } = Layout;\r\nconst { Title, Paragraph } = Typography;\r\nexport const TripsPage = ({ viewer, setViewer }: Props) => {\r\n  ScrollToTop();\r\n  const { id } = useParams<MatchType>();\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const [listingsPage, setListingsPage] = useState(1);\r\n  const [bookingsPage, setBookingsPage] = useState(1);\r\n\r\n  const { data, loading, error } = useQuery<UserQuery, UserQueryVariables>(\r\n    USER,\r\n    {\r\n      variables: {\r\n        id: id,\r\n        listingsPage,\r\n        bookingsPage,\r\n        limit: 4,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className=\"user\">\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    console.error(error);\r\n    return (\r\n      <Content className=\"user\">\r\n        <ErrorBanner description=\"Error, please refresh or try signing in again.\" />\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  const user = data ? data.user : null;\r\n  const userBookings = user ? user.bookings : null;\r\n  const idCheck = viewer.id === id;\r\n  return (\r\n    <div className=\"user-trips\">\r\n      {idCheck && userBookings ? (\r\n        <UserBookings\r\n          userBookings={userBookings}\r\n          bookingsPage={bookingsPage}\r\n          limit={4}\r\n          setBookingsPage={setBookingsPage}\r\n        />\r\n      ) : idCheck ? (\r\n        <div>\r\n          {\" \"}\r\n          <Title level={1}>Your Trips</Title>{\" \"}\r\n          <Paragraph>You don't have any upcoming or past trips</Paragraph>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {\" \"}\r\n          <Title level={1}>You don't have access to this page.</Title>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { List } from \"antd\";\r\nimport { ListingCard } from \"../../components/ListingCard/ListingsCard\";\r\nimport { ListingsQuery } from \"../../lib/graphql/queries/__generated__/index.generated\";\r\n\r\ninterface Props {\r\n  listings: ListingsQuery[\"listings\"][\"result\"];\r\n}\r\n\r\nexport const FeaturedListings = ({ listings }: Props) => {\r\n  return (\r\n    <List\r\n      grid={{\r\n        gutter: 8,\r\n        xs: 1,\r\n        sm: 2,\r\n        lg: 4,\r\n        xl: 4,\r\n        xxl: 4,\r\n      }}\r\n      dataSource={listings}\r\n      renderItem={(listing) => (\r\n        <List.Item>\r\n          <ListingCard listing={listing} />\r\n        </List.Item>\r\n      )}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Card, Col, Row, Typography } from \"antd\";\r\nimport HK from \"../../assets/Hong Kong.jpg\";\r\nimport London from \"../../assets/London.jpg\";\r\nimport NYC from \"../../assets/NYC.jpg\";\r\nimport Paris from \"../../assets/Paris.jpg\";\r\nimport Rome from \"../../assets/Rome.jpg\";\r\nimport SF from \"../../assets/SF.jpg\";\r\nimport Tokyo from \"../../assets/Tokyo.jpg\";\r\nimport Vancouver from \"../../assets/Vancouver.jpg\";\r\n\r\nconst { Text } = Typography;\r\n\r\nexport const SuggestedDestinations = () => {\r\n  return (\r\n    <Row gutter={12}>\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/new%20york%20city\">\r\n          <Card cover={<img alt=\"New York City\" src={NYC} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\"> New York City</Text>\r\n      </Col>\r\n\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/paris\">\r\n          <Card cover={<img alt=\"Parie\" src={Paris} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\"> Paris</Text>\r\n      </Col>\r\n\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/tokyo\">\r\n          <Card cover={<img alt=\"Tokyo\" src={Tokyo} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\">Tokyo</Text>\r\n      </Col>\r\n\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/vancouver\">\r\n          <Card cover={<img alt=\"Vancouver\" src={Vancouver} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\"> Vancouver</Text>\r\n      </Col>\r\n\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/hong%20kong\">\r\n          <Card cover={<img alt=\"Hong Kong\" src={HK} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\"> Hong Kong</Text>\r\n      </Col>\r\n\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/london\">\r\n          <Card cover={<img alt=\"London\" src={London} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\"> London</Text>\r\n      </Col>\r\n\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/san%20francisco\">\r\n          <Card cover={<img alt=\"SF\" src={SF} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\">San Francisco</Text>\r\n      </Col>\r\n\r\n      <Col xs={12} md={6} lg={6} xl={6} xxl={6}>\r\n        <Link to=\"listings/rome\">\r\n          <Card cover={<img alt=\"Roma\" src={Rome} />}> </Card>\r\n        </Link>\r\n        <Text className=\"home-destinations-text\"> Rome</Text>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Layout, Typography, Input } from \"antd\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { FeaturedListings } from \"./FeaturedListings\";\r\nimport { ErrorNotification } from \"../../components/Notification/Notificaitons\";\r\nimport { SuggestedDestinations } from \"./SuggestedDestinations\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport {\r\n  ListingsQuery,\r\n  ListingsQueryVariables,\r\n} from \"../../lib/graphql/queries/__generated__/index.generated\";\r\nimport { LISTINGS } from \"../../lib/graphql/queries/index\";\r\nimport { ListingFilter } from \"../../lib/graphql/globalTypes\";\r\n\r\nconst { Content } = Layout;\r\nconst { Title, Paragraph, Text } = Typography;\r\nconst { Search } = Input;\r\n\r\nexport const HomePage = () => {\r\n  const history = useHistory();\r\n  ScrollToTop();\r\n  const onSearch = (value: string) => {\r\n    if (value) {\r\n      history.push(`/listings/${value.trim()}`);\r\n    } else {\r\n      ErrorNotification(\"Invalid search\");\r\n    }\r\n  };\r\n\r\n  const { data } = useQuery<ListingsQuery, ListingsQueryVariables>(LISTINGS, {\r\n    variables: {\r\n      filter: ListingFilter.PriceHl,\r\n      limit: 4,\r\n      page: 1,\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n\r\n  return (\r\n    <Layout className=\"home\">\r\n      <Content>\r\n        <div className=\"home-landing\">\r\n          <Title className=\"home-landing-title\">Where will you stay? </Title>\r\n          <Paragraph className=\"home-landing-text\">\r\n            <span id=\"landing\">Experience destinations like a local with </span>\r\n            <span>\r\n              <Text type=\"danger\"> Home Mobile</Text>{\" \"}\r\n            </span>\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <div className=\"home-content\">\r\n          <div className=\"home-searchbar\">\r\n            <Search\r\n              placeholder=\"Add a location\"\r\n              size=\"large\"\r\n              enterButton\r\n              className=\"home-searchbar-button\"\r\n              onSearch={onSearch}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"home-listings\">\r\n            <Title level={4} className=\"home-content-title\">\r\n              Featured Listings\r\n            </Title>\r\n            {data ? <FeaturedListings listings={data.listings.result} /> : null}\r\n          </div>\r\n\r\n          <div className=\"home-destinations\">\r\n            <Title level={4} className=\"home-content-title\">\r\n              Featured Destinations\r\n            </Title>\r\n            <SuggestedDestinations />\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n","/* eslint-disable no-template-curly-in-string */\r\nimport React, { useState } from \"react\";\r\nimport { Formik, FormikConfig, FormikValues } from \"formik\";\r\nimport { Form } from \"formik-antd\";\r\nimport { Button } from \"antd\";\r\n\r\ninterface Props {\r\n  handleFinishFail: (err: any) => void;\r\n}\r\n\r\nexport function FormikStepper({\r\n  children,\r\n  handleFinishFail,\r\n  ...props\r\n}: FormikConfig<FormikValues> & Props) {\r\n  const childrenArr = React.Children.toArray(children);\r\n  const [step, SetStep] = useState(0);\r\n  const currentChild = childrenArr[step];\r\n\r\n  const isLastStep = () => {\r\n    return step === childrenArr.length - 1;\r\n  };\r\n\r\n  return (\r\n    <Formik {...props}>\r\n      <Form\r\n        size=\"large\"\r\n        className=\"host-form\"\r\n        layout=\"vertical\"\r\n        onFinishFailed={handleFinishFail}\r\n      >\r\n        {currentChild}\r\n\r\n        <div className=\"host-step-buttons-wrapper\">\r\n          <div className=\"host-left-button\">\r\n            {step > 0 ? (\r\n              <Button onClick={() => SetStep(step - 1)}> Back </Button>\r\n            ) : null}\r\n          </div>\r\n\r\n          <div className=\"host-right-button\">\r\n            {!isLastStep() ? (\r\n              <Button onClick={() => SetStep(step + 1)}> Next </Button>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { Form, Select, Input, InputNumber } from \"formik-antd\";\r\nimport { FormikStepper } from \"./FormikStepper\";\r\nimport { Button, Typography, Upload } from \"antd\";\r\nimport { NEW_LISTING } from \"../../lib/graphql/mutations/index\";\r\nimport {\r\n  NewListingMutation,\r\n  NewListingMutationVariables,\r\n} from \"../../lib/graphql/mutations/__generated__/index.generated\";\r\nimport {\r\n  UploadOutlined,\r\n  HomeOutlined,\r\n  BankOutlined,\r\n  ApartmentOutlined,\r\n  LoadingOutlined,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  SuccessNotification,\r\n  ErrorNotification,\r\n} from \"../../components/Notification/Notificaitons\";\r\nimport { ErrorBanner } from \"../../components/Error/Error\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport { UploadChangeParam } from \"antd/lib/upload\";\r\nimport { ListingType } from \"../../lib/graphql/globalTypes\";\r\nimport { Viewer } from \"../../lib/types\";\r\nimport { Store } from \"antd/lib/form/interface\";\r\nimport * as Yup from \"yup\";\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nconst beforeImageUpload = (file: File) => {\r\n  const fileIsValidImage =\r\n    file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n  const fileIsValidSize = file.size / 1024 / 1024 < 1;\r\n\r\n  if (!fileIsValidImage) {\r\n    ErrorNotification(\"Images must be in PNG or JPG format\");\r\n    return false;\r\n  }\r\n\r\n  if (!fileIsValidSize) {\r\n    ErrorNotification(\"Images must be smaller than 1MB\");\r\n    return false;\r\n  }\r\n\r\n  return fileIsValidImage && fileIsValidSize;\r\n};\r\n\r\nconst getBase64Value = (\r\n  img: File | Blob,\r\n  callback: (imageBase64Value: string) => void\r\n) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(img);\r\n  reader.onload = () => {\r\n    callback(reader.result as string);\r\n  };\r\n};\r\n\r\nconst validationSchema = Yup.object({\r\n  type: Yup.string().required(\"Required\"),\r\n  numOfGuests: Yup.number()\r\n    .min(1)\r\n    .positive(\"Please input a number greater than 0\")\r\n    .integer(),\r\n  numOfBeds: Yup.number()\r\n    .min(1)\r\n    .positive(\"Please input a number greater than 0\")\r\n    .integer(),\r\n  numOfBedrooms: Yup.number()\r\n    .min(1)\r\n    .positive(\"Please input a number greater than 0\")\r\n    .integer(),\r\n  numOfBathrooms: Yup.number()\r\n    .min(1)\r\n    .positive(\"Please input a number greater than 0\")\r\n    .integer(),\r\n  title: Yup.string().max(45).required(\"Required\"),\r\n  description: Yup.string().max(5000).required(\"Required\"),\r\n  address: Yup.string().required(\"Required\"),\r\n  city: Yup.string().required(\"Required\"),\r\n  state: Yup.string().required(\"Required\"),\r\n  image: Yup.mixed(),\r\n  price: Yup.number()\r\n    .min(1)\r\n    .positive(\"Please input a number greater than 0\")\r\n    .integer(),\r\n});\r\n\r\nexport const HostPage = ({ viewer }: Props) => {\r\n  ScrollToTop();\r\n  const [imageLoading, setImageLoading] = useState(false);\r\n  const [imageBase64Value, setImageBase64Value] = useState<string>(\"\");\r\n  const [newListing, { loading, data }] = useMutation<\r\n    NewListingMutation,\r\n    NewListingMutationVariables\r\n  >(NEW_LISTING, {\r\n    onCompleted: () => {\r\n      SuccessNotification(\"Successfully posted your new listing!\");\r\n    },\r\n    onError: () => {\r\n      ErrorNotification(\"Failed to post your listing, try again!\");\r\n    },\r\n  });\r\n  const handleImageUpload = (info: UploadChangeParam) => {\r\n    const { file } = info;\r\n\r\n    if (file.status === \"uploading\") {\r\n      setImageLoading(true);\r\n      return;\r\n    }\r\n\r\n    if (file.status === \"done\" && file.originFileObj) {\r\n      getBase64Value(file.originFileObj, (imageBase64Value) => {\r\n        setImageBase64Value(imageBase64Value);\r\n        setImageLoading(false);\r\n      });\r\n    }\r\n  };\r\n  const handleFinish = (values: Store) => {\r\n    const addy = `${values.address}, ${values.city}, ${values.state}`;\r\n    values.image = imageBase64Value;\r\n    const input = {\r\n      address: addy,\r\n      image: imageBase64Value,\r\n      price: values.price,\r\n      description: values.description,\r\n      title: values.title,\r\n      type: values.type,\r\n      numOfBeds: values.numOfBeds,\r\n      numOfGuests: values.numOfGuests,\r\n      numOfBathrooms: values.numOfBathrooms,\r\n      numOfBedrooms: values.numOfBedrooms,\r\n    };\r\n\r\n    newListing({ variables: { input } });\r\n  };\r\n\r\n  const handleFinishFail = (err: any) => {\r\n    if (err) {\r\n      ErrorNotification(\"Complete all required fields!\");\r\n      return;\r\n    }\r\n  };\r\n\r\n  const dummyRequest = ({ file, onSuccess }: any) => {\r\n    setTimeout(() => {\r\n      onSuccess(\"ok\");\r\n    }, 0);\r\n  };\r\n\r\n  let disableButton = !viewer.id ? true : false;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"host-layout\">\r\n        <div className=\"host-step-header\">\r\n          <Title level={3}>Posting your listing</Title>\r\n          <Text type=\"secondary\">Creating your listing now</Text>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (data && data.newListing) {\r\n    return <Redirect to={`/listing/${data.newListing.id}`} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"host-layout\">\r\n      {disableButton ? (\r\n        <ErrorBanner\r\n          message={\"You must be signed in to create a listing\"}\r\n          description={\"Please sign in\"}\r\n        />\r\n      ) : null}\r\n      <FormikStepper\r\n        onSubmit={handleFinish}\r\n        initialValues={{\r\n          type: \"\",\r\n          numOfGuests: null,\r\n          numOfBeds: null,\r\n          numOfBathrooms: null,\r\n          numOfBedrooms: null,\r\n          title: \"\",\r\n          description: \"\",\r\n          address: \"\",\r\n          city: \"\",\r\n          state: \"\",\r\n          image: \"\",\r\n          price: null,\r\n        }}\r\n        validationSchema={validationSchema}\r\n        handleFinishFail={handleFinishFail}\r\n      >\r\n        <div className=\"host-step\">\r\n          <div className=\"host-step-header\">\r\n            <Title level={3}>What kind of place are you listing?</Title>\r\n            <Text type=\"secondary\">How many guests can you accomodate?</Text>\r\n          </div>\r\n\r\n          <Form.Item name=\"type\" label=\"Home Type\" required>\r\n            <Select size=\"large\" name=\"type\" placeholder=\"Select One\">\r\n              <Select.Option value={ListingType.Apartment}>\r\n                <ApartmentOutlined /> <span>Apartment</span>\r\n              </Select.Option>\r\n              <Select.Option value={ListingType.House}>\r\n                <HomeOutlined /> <span>House</span>\r\n              </Select.Option>\r\n              <Select.Option value={ListingType.Room}>\r\n                <BankOutlined /> <span>Room</span>\r\n              </Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"numOfGuests\" required label=\"Max # of Guests\">\r\n            <InputNumber name=\"numOfGuests\" min={1} placeholder=\"4\" />\r\n          </Form.Item>\r\n          <Form.Item name=\"numOfBeds\" required label=\" # of Beds\">\r\n            <InputNumber name=\"numOfBeds\" min={1} placeholder=\"4\" />\r\n          </Form.Item>\r\n          <Form.Item name=\"numOfBedrooms\" required label=\" # of Bedrooms\">\r\n            <InputNumber name=\"numOfBedrooms\" min={1} placeholder=\"4\" />\r\n          </Form.Item>\r\n          <Form.Item name=\"numOfBathrooms\" required label=\" # of Bathrooms\">\r\n            <InputNumber name=\"numOfBathrooms\" min={1} placeholder=\"4\" />\r\n          </Form.Item>\r\n        </div>\r\n\r\n        <div className=\"host-step\">\r\n          <div className=\"host-step-header\">\r\n            <Title level={3}>Briefly describe your listing</Title>\r\n            <Text type=\"secondary\">\r\n              Try to grab the attention of potential guests with your best\r\n              description!\r\n            </Text>\r\n          </div>\r\n\r\n          <Form.Item\r\n            label=\"Title\"\r\n            name=\"title\"\r\n            extra=\"Max character count of 45\"\r\n            required\r\n          >\r\n            <Input\r\n              name=\"title\"\r\n              size=\"large\"\r\n              maxLength={45}\r\n              placeholder=\"Downtown SF penthouse designed by Raf Simons\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Description of listing\"\r\n            name=\"description\"\r\n            extra=\"Max character count of 5000\"\r\n            required\r\n          >\r\n            <Input.TextArea\r\n              name=\"description\"\r\n              rows={5}\r\n              maxLength={5000}\r\n              placeholder={`One of a kind designed home located in downtown San Francisco`}\r\n            />\r\n          </Form.Item>\r\n        </div>\r\n\r\n        <div className=\"host-step\">\r\n          <div className=\"host-step-header\">\r\n            <Title level={3}>Where's your place located?</Title>\r\n            <Text type=\"secondary\">\r\n              Your address will only be revealed after guests have booked a\r\n              reservation\r\n            </Text>\r\n          </div>\r\n\r\n          <Form.Item name=\"address\" label=\"Address\" required>\r\n            <Input\r\n              size=\"large\"\r\n              name=\"address\"\r\n              placeholder=\"831 Bottom Feeder Lane\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"city\" label=\"City/Town\" required>\r\n            <Input size=\"large\" name=\"city\" placeholder=\"Malibu\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"state\" label=\"State/Province\" required>\r\n            <Input size=\"large\" name=\"state\" placeholder=\"California\" />\r\n          </Form.Item>\r\n        </div>\r\n\r\n        <div className=\"host-step\">\r\n          <div className=\"host-step-header\">\r\n            <Title level={3}>Upload some photos!</Title>\r\n            <Text type=\"secondary\">\r\n              Upload your best photos to show off your beautiful home to guests!\r\n            </Text>\r\n          </div>\r\n\r\n          <Form.Item\r\n            label=\"Image\"\r\n            name=\"image\"\r\n            extra=\"Please upload images under 1MB and in JPG/PNG format\"\r\n            required\r\n          >\r\n            <div className=\"host-image-upload\">\r\n              <Upload\r\n                name=\"image\"\r\n                listType=\"picture-card\"\r\n                showUploadList={false}\r\n                customRequest={dummyRequest}\r\n                beforeUpload={beforeImageUpload}\r\n                onChange={handleImageUpload}\r\n              >\r\n                {imageBase64Value ? (\r\n                  <img src={imageBase64Value} alt=\"newListing\" />\r\n                ) : (\r\n                  <div>\r\n                    {imageLoading ? <LoadingOutlined /> : <UploadOutlined />}\r\n\r\n                    <div> Upload </div>\r\n                  </div>\r\n                )}\r\n              </Upload>\r\n            </div>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"price\" label=\"Price\" required>\r\n            <InputNumber size=\"large\" name=\"price\" min={0} placeholder=\"1000\" />\r\n          </Form.Item>\r\n\r\n          <div className=\"host-submit-buttom\">\r\n            <Button type=\"primary\" htmlType=\"submit\" disabled={disableButton}>\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </FormikStepper>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { ScrollToTop } from \"../../index\";\r\nimport { Button, Empty, Typography } from \"antd\";\r\n\r\nconst { Title } = Typography;\r\n\r\nexport const EmptyPage = () => {\r\n  ScrollToTop();\r\n  return (\r\n    <div className=\"empty-page\">\r\n      <div>\r\n        <Empty\r\n          description={\r\n            <Fragment>\r\n              <div className=\"empty-page-huge-text\">Oops!</div>\r\n              <Title level={2}>\r\n                We can't seem to find the page you're looking for\r\n              </Title>\r\n            </Fragment>\r\n          }\r\n          image={Empty.PRESENTED_IMAGE_SIMPLE}\r\n        />\r\n        <div className=\"empty-page-button\">\r\n          <Button href=\"/\" className=\"ant-btn ant-btn-primary ant-btn-lg\">\r\n            Return Home\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef, useLayoutEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { ApolloProvider } from \"react-apollo\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { UserPage } from \"./pages/UserPage/UserPage\";\nimport { ListingPage } from \"./pages/ListingPage/ListingPage\";\nimport { ListingsPage } from \"./pages/ListingsPage/ListingsPage\";\nimport ApolloClient, { InMemoryCache } from \"apollo-boost\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HomeSkeleton } from \"./components/Skeletons/HomeSkeleton\";\nimport { Stripe } from \"./components/Stripe/Stripe\";\nimport {\n  LogInMutationVariables,\n  LogInMutation,\n} from \"./lib/graphql/mutations/__generated__/index.generated\";\nimport { LOG_IN } from \"./lib/graphql/mutations/index\";\nimport { Affix, Layout, Spin } from \"antd\";\nimport { ErrorBanner } from \"./components/Error/Error\";\nimport { LogIn } from \"../src/components/Login/LogIn\";\nimport { Viewer } from \"./lib/types\";\nimport { AppBar } from \"../src/components/AppBar/AppBar\";\nimport { TripsPage } from \"./pages/TripsPage/TripsPage\";\nimport { HomePage } from \"./pages/HomePage/HomePage\";\nimport { HostPage } from \"./pages/HostPage/HostPage\";\nimport { EmptyPage } from \"./pages/EmptyPage/EmptyPage\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nimport \"./styles/styles.css\";\nimport \"./styles/antd.less\";\n\nrequire(\"dotenv\").config();\n\nconst client = new ApolloClient({\n  uri: \"/api\",\n  request: async (operation) => {\n    const token = sessionStorage.getItem(\"token\");\n    operation.setContext({\n      headers: {\n        \"X-CSRF-TOKEN\": token || \"\",\n      },\n    });\n  },\n  cache: new InMemoryCache(),\n});\n\nconst initViewer: Viewer = {\n  __typename: undefined,\n  id: null,\n  token: null,\n  avatar: null,\n  hasWallet: null,\n  didRequest: false,\n};\n\nconst stripePromise = loadStripe(`${process.env.REACT_APP_STRIPE_PUBLISH_KEY}`);\n\nexport const ScrollToTop = () => {\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n};\n\nconst App = () => {\n  const [viewer, setViewer] = useState<Viewer>(initViewer);\n\n  const [logIn, { loading, error }] = useMutation<\n    LogInMutation,\n    LogInMutationVariables\n  >(LOG_IN, {\n    onCompleted: (data) => {\n      if (data && data.logIn) {\n        setViewer(data.logIn);\n\n        if (data.logIn.token) {\n          sessionStorage.setItem(\"token\", data.logIn.token);\n        } else {\n          sessionStorage.removeItem(\"token\");\n        }\n      }\n    },\n  });\n\n  const logInRef = useRef(logIn);\n\n  useEffect(() => {\n    logInRef.current();\n  }, []);\n\n  if (loading) {\n    return (\n      <Layout className=\"home-skeleton\">\n        <HomeSkeleton />\n      </Layout>\n    );\n  }\n  return (\n    <Elements stripe={stripePromise}>\n      <Router>\n        {error ? (\n          <ErrorBanner description=\"Log in error, please try again\" />\n        ) : null}\n        <Affix>\n          <div>\n            <AppBar viewer={viewer} setViewer={setViewer} />\n          </div>\n        </Affix>\n\n        <Switch>\n          <Route exact path=\"/\">\n            {!viewer.didRequest && !error ? (\n              <Layout className=\"home-skeleton\">\n                <div className=\"home-skeleton-spinner\">\n                  <Spin size=\"large\" tip=\"Launching Home Mobile\" />\n                </div>\n              </Layout>\n            ) : null}\n\n            <HomePage />\n          </Route>\n\n          <Route exact path=\"/listings/:location?\">\n            <ListingsPage />\n          </Route>\n\n          <Route exact path=\"/listing/:id\">\n            <ListingPage viewer={viewer} />\n          </Route>\n\n          <Route exact path=\"/host\">\n            <HostPage viewer={viewer} />\n          </Route>\n\n          <Route exact path=\"/login\">\n            <LogIn setViewer={setViewer} />\n          </Route>\n\n          <Route exact path=\"/stripe\">\n            <Stripe viewer={viewer} setViewer={setViewer} />\n          </Route>\n\n          <Route exact path=\"/user/:id\">\n            <UserPage viewer={viewer} setViewer={setViewer} />\n          </Route>\n\n          <Route exact path=\"/trips/:id\">\n            <TripsPage viewer={viewer} setViewer={setViewer} />\n          </Route>\n\n          <Route component={EmptyPage} />\n        </Switch>\n      </Router>\n    </Elements>\n  );\n};\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}